"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".nav__list");new VanillaScrollspy(e).init();new WOW({mobile:!1}).init();const t=document.querySelector(".header__menu");let n=document.querySelector(".header"),a=document.querySelector(".nav__list"),s=document.querySelector(".header__lang");const l=document.querySelector(".portfolio__list"),o=document.querySelector(".skills__list"),r=document.querySelectorAll(".banner__lang button"),c=document.querySelectorAll(".header__lang button");let i;const d=document.querySelectorAll(".nav__link"),u=document.querySelectorAll("h2"),g=document.querySelectorAll("p:not(.skill__name)"),m=document.querySelector(".contacts__send"),_=document.querySelectorAll(".nav__link"),f=document.querySelector(".banner__name"),p=document.querySelector(".banner__description");function L(){a.classList.toggle("visibile"),n.classList.toggle("header_white"),n.classList.toggle("header_height"),s.classList.toggle("lang_visibile"),t.classList.toggle("header__menu-close"),document.body.classList.toggle("no-scroll")}if(t.addEventListener("click",()=>{L()}),window.innerWidth<=768)_.forEach(e=>{e.addEventListener("click",()=>{L()})});else{f.innerHTML=f.textContent.replace(/\S/g,"<span>$&</span>");let e=p.innerHTML.split("<br>");e.splice(1,0,"<br>"),e=e[0].replace(/\S/g,"<span>$&</span>")+e[1]+e[2].replace(/\S/g,"<span>$&</span>"),p.innerHTML=e,anime.timeline({loop:!1}).add({targets:".banner__name span",translateY:[-600,0],scale:[10,1],opacity:[0,1],easing:"easeOutExpo",duration:1500,delay:anime.stagger(100,{start:1e3})}),anime.timeline({targets:".banner__description span",easeing:"easeInOutExpo",loop:!1}).add({rotate:function(){return anime.random(-360,360)},translateX:function(){return anime.random(-1e3,1e3)},translateY:function(){return anime.random(-1e3,1e3)},duration:0}).add({rotate:0,translateX:0,translateY:0,duration:5e3,delay:anime.stagger(7)})}const h=async function(e){const t=await fetch(e);if(!t.ok)throw new Error(`Ошибка по адресу ${e}, статус ошибки ${t.status}!`);return await t.json()};function w({name:e,link:t,image:n,alt:a}){const s=document.createElement("li");l.childElementCount%2==0?s.className="portfolio__list-item wow bounceInLeft":s.className="portfolio__list-item wow bounceInRight";const o=n.replace("webp","jpg");s.insertAdjacentHTML("beforeend",`\n            <article class="portfolio-proect">\n                <a href="${t}">\n                    <picture>\n                        <source srcset="${n}" type="image/webp">\n                        <img class="portfolio-layout" src="${o}" alt="${a}">\n                    </picture>\n                </a>\n                <a class="portfolio__link" href="${t}">${e}</a>\n            </article>\n            `),l.insertAdjacentElement("beforeend",s)}function y({name:e,rating:t}){const n=document.createElement("li");n.className="skill wow bounceInDown",n.setAttribute("data-wow-delay",`${o.childElementCount/4}s`),n.insertAdjacentHTML("beforeend",`\n        <img src="images/${e.toLowerCase()}-logo.svg" alt="${e.toLowerCase()}"\n            class="skill__logo">\n        <p class="skill__name">${e}</p>\n        <img src="images/rating-${t}.svg" alt="stars"\n            class="skill__rating">\n        `),o.insertAdjacentElement("beforeend",n)}function b(e,t){if(!e.classList.contains("selected")){r[1].classList.toggle("selected"),r[0].classList.toggle("selected"),c[0].classList.toggle("selected"),c[1].classList.toggle("selected"),document.title=i[0].title;for(let e=0;e<d.length;e++)d[e].innerHTML=i[t].nav[e];for(let e=0;e<u.length;e++)u[e].innerHTML=i[t].block_titles[e];for(let e=0;e<g.length;e++)g[e].innerHTML=i[t].block_text[e];m.innerHTML=i[t].button_send}}h("data/projects.json").then((function(e){e.forEach(w)})),h("data/languages.json").then((function(e){i=e})),h("data/skills.json").then((function(e){e.forEach(y)})),r[0].addEventListener("click",e=>{b(e.target,1)}),r[1].addEventListener("click",e=>{b(e.target,0)}),c[0].addEventListener("click",e=>{b(e.target,1)}),c[1].addEventListener("click",e=>{b(e.target,0)}),window.addEventListener("scroll",()=>{_.forEach((e,t)=>{document.querySelector(e.hash).offsetTop-window.pageYOffset<=200&&(_.forEach(e=>{e.classList.remove("selected")}),_[t].classList.add("selected")),document.querySelector("#contacts").offsetTop-window.pageYOffset<=window.outerHeight/2&&(_.forEach(e=>{e.classList.remove("selected")}),_[t].classList.add("selected"))})})});
//# sourceMappingURL=main.min.js.map
